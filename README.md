# ЦГ и Э Документы — пакетный обработчик XML

Автоматизирует правки комплектов `ON_NSCHFDOPPR*.xml` и `ON_SCHET__*.xml` за указанную дату.

## Что делает скрипт `process_cge_docs.py`
- Спрашивает папку с датой (например, `0126`) и работает только в ней.
- Рекурсивно удаляет временные файлы `konvert*` / `KONVERT*` внутри выбранной папки.
- В `ON_NSCHFDOPPR*` ставит `НаимОрг` в блоке `СвПокуп/СвЮЛУч` на значение `ФБУЗ "Центр гигиены и эпидемиологии в городе Москве"`.
- В `ON_SCHET__*` ставит то же название в `Покупатель/@Название` и `Покупатель/СвЮЛ/@Название`.
- Переносит адрес из `ГрузПолуч` (УПД) в `Грузополучатель` (Счёт) по совпадению КПП, обновляя оба поля `АдрТекст`.
- Сохраняет исходную кодировку файлов (`windows-1251`).
- Понимает обе структуры данных: старую (`<дата>/УПД/Отправляемые` и `<дата>/Счет на оплату/Отправляемые`) и новую (`<дата>/Отправляемые`).

## Требования
- Python 3 (проверено на macOS).
- Права на запись в папку с документами (скрипт удаляет и перезаписывает файлы).

## Запуск
```bash
cd '/Users/alex/all_dev/ЦГ и Э Документы'
./process_cge_docs.py
```
После запуска ответьте на вопрос «Где продолжить работу?» названием подпапки (например, `0126` или `0126/Отправляемые` в случае вложенной структуры).

## Проверка
Скрипт идемпотентен: повторный запуск на той же папке не приводит к новым изменениям (счётчики правок будут 0, если всё уже применено).
